<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Product List</title>
    <style>
        body { font-family: 'Segoe UI', Arial, sans-serif; background: linear-gradient(120deg, #a1c4fd, #c2e9fb); margin: 0; padding: 0; }
        .container { max-width: 900px; margin: 40px auto; background: #fff; padding: 30px; border-radius: 16px; box-shadow: 0 4px 16px rgba(0,0,0,0.13); }
        h1 { color: #2d6cdf; text-align: center; letter-spacing: 2px; }
        .search-bar { margin: 20px 0; display: flex; justify-content: center; }
        .search-bar input { width: 300px; padding: 10px; border: 2px solid #2d6cdf; border-radius: 6px; font-size: 16px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; background: #f9fbfd; }
        th, td { padding: 14px 18px; border-bottom: 1.5px solid #e3eafc; text-align: left; }
        th { background: #2d6cdf; color: #fff; font-weight: 600; }
        tr:hover { background: #e3eafc; }
        .price { color: #27ae60; font-weight: bold; }
        .product-img { width: 64px; height: 64px; object-fit: cover; border-radius: 8px; border: 2px solid #e3eafc; background: #fff; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Product List</h1>
        <div class="search-bar">
            <input type="text" id="searchInput" placeholder="Search products by name..." onkeyup="filterProducts()" />
        </div>
        <table id="productsTable">
            <thead>
                <tr>
                    <th>Image</th>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Price</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="product : ${products}">
                    <td><img th:src="${product.imageUrl}" alt="Product Image" class="product-img" /></td>
                    <td th:text="${product.id}"></td>
                    <td th:text="${product.name}"></td>
                    <td th:text="${product.price}" class="price"></td>
                </tr>
            </tbody>
        </table>
    </div>
    <script>
        function filterProducts() {
            var input = document.getElementById('searchInput');
            var filter = input.value.toLowerCase();
            var table = document.getElementById('productsTable');
            var trs = table.getElementsByTagName('tr');
            for (var i = 1; i < trs.length; i++) { // skip header
                var nameTd = trs[i].getElementsByTagName('td')[1];
                if (nameTd) {
                    var name = nameTd.textContent || nameTd.innerText;
                    trs[i].style.display = name.toLowerCase().indexOf(filter) > -1 ? '' : 'none';
                }
            }
        }
    </script>
</body>
</html>
